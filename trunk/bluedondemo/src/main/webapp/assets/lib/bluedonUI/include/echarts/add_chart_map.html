<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>title</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<!--可以在收藏夹中显示出图标-->
<link rel="Bookmark" href="../../skin/style/images/favicon.ico" type="image/x-icon"/>
<!--可以在地址栏中显示出图标-->
<link rel="shortcut icon" href="../../skin/style/images/favicon.ico" type="image/x-icon"/>
<link rel="icon" href="../../skin/style/images/favicon.ico" type="image/x-icon"/>
<!--公共-->
<link href="../../skin/style/style.css" rel="stylesheet" type="text/css" />
<script src="../../js/lib/jquery.min.js" type="text/javascript"></script>
<script src="../../js/lib/tab/tab.js" type="text/javascript"></script>
<!--代码变色-->
<script src="../../js/lib/vejis.js" type="text/javascript"></script>
<script src="../../js/lib/vlight.js" type="text/javascript"></script>
<style type="text/css">
body{_overflow:hidden}
</style>
</head>

<body>

<div style="padding:0px 20px;">
  <div class="list-data">
        <div class="list-tab mar_top">
            <ul>
            <li class="listcurrent"><a href="#html">HTML代码</a></li>
            <li><a href="#css">CSS代码</a></li>
            <li><a href="#java">JAVASCRIPT代码(含数据交互)</a></li>
            <li><a href="#date">使用说明</a></li>
        </ul>
        </div>
    </div>
     
     <div class="clearfix"></div> 
     <div class=" list-content">
		
<!--HTML代码-->
<div id="html">
<blockquote class="vlight">
<p>


<!--内容显示--><br>
&lt;div id="chart_indexmap" style=" width:100%; min-width:300px;height:100%; min-height:240px; margin:0px auto;"&gt;&lt;/div&gt;<br>

<!--js文件--><br>
&lt;script src="../../js/lib/echarts/echarts-all.js"&gt;&lt;/script&gt;<br>
&lt;script src="../../js/lib/echarts/echarts.js"&gt;&lt;/script&gt;<br>
&lt;script src="../../js/bd/charts.js"&gt;&lt;/script&gt;<br>
&lt;script src="../../js/lib/echarts/echarts_maplist.js"&gt;&lt;/script&gt;<br>
&lt;script type="text/javascript"&gt;<br>
    $("#chart_indexmap").chartsMap({<br>
            jsonUrl:'../../js/data/map1.json',  //报表的JSON文件路径<br>
            tabID:'#chart_indexmap',              //调用报表的ID<br>
            width:780,                      //报表显示宽度<br>
            height:200,                      //报表显示高度<br>
            isWhat:'china' ,                   //报表所用的格式<br>
            echartsAdd:'../../js/lib/echarts'  //echarts文件路径<br>
        });<br>
}); <br>
&lt;/script&gt;<br>
</p>    
</blockquote>
</div>
        
<!--CSS代码-->
<div id="css">
<blockquote class="vlight">
<p>
/* 暂无涉及的相关文件 */
</p>
</blockquote>
</div>
        
<!--JAVASCRIPT代码-->
<div id="java">
<blockquote class="vlight">
<p>
// JSON 数据格式<br>
{ <br>
    "geoCoord": [{"上海": [121.4648,31.2891],"东莞": [113.8953,22.901],"东营": [118.7073,37.5513],"中山": [113.4229,22.478],"临汾": [111.4783,36.1615],"临沂": [118.3118,35.2936],"丹东": [124.541,40.4242],"丽水": [119.5642,28.1854],"乌鲁木齐": [87.9236,43.5883],"佛山": [112.8955,23.1097],
"保定": [115.0488,39.0948],"兰州": [103.5901,36.3043],"包头": [110.3467,41.4899],"北京": [116.4551,40.2539],"北海": [109.314,21.6211],"南京": [118.8062,31.9208],"南宁": [108.479,23.1152],"南昌": [116.0046,28.6633],"南通": [121.1023,32.1625],"厦门": [118.1689,24.6478],"台州": [121.1353,28.6688],"合肥": [117.29,32.0581],"呼和浩特": [111.4124,40.4901],"咸阳": [108.4131,34.8706],"哈尔滨": [127.9688,45.368],"唐山": [118.4766,39.6826],"嘉兴": [120.9155,30.6354],"大同": [113.7854,39.8035],"大连": [122.2229,39.4409],"天津": [117.4219,39.4189],"太原": [112.3352,37.9413],"威海": [121.9482,37.1393],"宁波": [121.5967,29.6466], "宝鸡": [107.1826,34.3433],"宿迁": [118.5535,33.7775],"常州": [119.4543,31.5582],"广州": [113.5107,23.2196],"廊坊": [116.521,39.0509],"延安": [109.1052,36.4252],"张家口": [115.1477,40.8527],"徐州": [117.5208,34.3268],"德州": [116.6858,37.2107],"惠州": [114.6204,23.1647],"成都": [103.9526,30.7617],"扬州": [119.4653,32.8162],
 "承德": [117.5757,41.4075],"拉萨": [91.1865,30.1465],"无锡": [120.3442,31.5527],"日照": [119.2786,35.5023],"昆明": [102.9199,25.4663],"杭州": [119.5313,29.8773],"枣庄": [117.323,34.8926], "柳州": [109.3799,24.9774],"株洲": [113.5327,27.0319],"武汉": [114.3896,30.6628],"汕头": [117.1692,23.3405],"江门": [112.6318,22.1484],"沈阳": [123.1238,42.1216],"沧州": [116.8286,38.2104],"河源": [114.917,23.9722],"泉州": [118.3228,25.1147],"泰安": [117.0264,36.0516], "泰州": [120.0586,32.5525], "济南": [117.1582,36.8701],"济宁": [116.8286,35.3375],"海口": [110.3893,19.8516],"淄博": [118.0371,36.6064],"淮安": [118.927,33.4039],"深圳": [114.5435,22.5439],"清远": [112.9175,24.3292],"温州": [120.498,27.8119], "渭南": [109.7864,35.0299],"湖州": [119.8608,30.7782],"湘潭": [112.5439,27.7075],"滨州": [117.8174,37.4963],"潍坊": [119.0918,36.524],"烟台": [120.7397,37.5128],"玉溪": [101.9312,23.8898],"珠海": [113.7305,22.1155],"盐城": [120.2234,33.5577],
"盘锦": [121.9482,41.0449],"石家庄": [114.4995,38.1006],"福州": [119.4543,25.9222],"秦皇岛": [119.2126,40.0232],"绍兴": [120.564,29.7565],"聊城": [115.9167,36.4032],"肇庆": [112.1265,23.5822],"舟山": [122.2559,30.2234],"苏州": [120.6519,31.3989],"莱芜": [117.6526,36.2714],"菏泽": [115.6201,35.2057],"营口": [122.4316,40.4297],"葫芦岛": [120.1575,40.578],"衡水": [115.8838,37.7161],"衢州": [118.6853,28.8666],"西宁": [101.4038,36.8207],"西安": [109.1162,34.2004],"贵阳": [106.6992,26.7682],"连云港": [119.1248,34.552],"邢台": [114.8071,37.2821],"邯郸": [114.4775,36.535],"郑州": [113.4668,34.6234],
"鄂尔多斯": [108.9734,39.2487],"重庆": [107.7539,30.1904],"金华": [120.0037,29.1028],"铜川": [109.0393,35.1947],
"银川": [106.3586,38.1775],"镇江": [119.4763,31.9702],"长春": [125.8154,44.2584],"长沙": [113.0823,28.2568],
"长治": [112.8625,36.4746],"阳泉": [113.4778,38.0951],"青岛": [120.4651,36.3373],"韶关": [113.7964,24.7028]
    }],<br>
    "seriesData":[<br>
        {"name": "红色警戒","color":"red", "value": [<br>
                                    [{"name":"葫芦岛"},{"name":"广州"}],<br>
                                    [{"name":"成都"},{"name":"广州"}],<br>
                                    [{"name":"石家庄"},{"name":"广州"}],<br>
                                    [{"name":"郑州"},{"name":"广州"}]<br>
        ]},<br>
        {"name": "黄色警戒","color":"gold", "value": [<br>
                                        [{"name":"西安"},{"name":"广州"}],<br>
                                        [{"name":"秦皇岛"},{"name":"广州"}],<br>
                                        [{"name":"连云港"},{"name":"广州"}],<br>
                                        [{"name":"贵阳"},{"name":"广州"}],<br>
                                        [{"name":"南京"},{"name":"广州"}]<br>
        ]},<br>
        {"name": "疑似入侵","color":"block", "value": [<br>
                                        [{"name":"拉萨"},{"name":"广州"}],<br>
                                        [{"name":"重庆"},{"name":"广州"}],<br>
                                        [{"name":"兰州"},{"name":"广州"}],<br>
                                        [{"name":"青岛"},{"name":"广州"}],<br>
                                        [{"name":"北海"},{"name":"广州"}]<br>
        ]}<br>
    ]<br>
}  <br>
//公共代码<br>
$.fn.chartsMap = function(option){<br>
    var setting = {<br>
        jsonUrl:null,         //报表的JSON文件路径<br>
        tabID:null,           //调用报表的ID<br>
        width:'98%',          //报表显示宽度<br>
        height:240,           //报表显示高度<br>
        isWhat :null,         //报表所用的格式<br>
        echartsAdd:null       //echarts文件路径<br>
    };<br>
    option = $.extend(setting, option);    //合并参数<br>
    var jsonA = option.jsonUrl;<br>
    var ID = option.tabID;<br>
    require.config({<br>
        paths : {  <br>
            echarts : option.echartsAdd<br>
        }  <br>
    }); <br>
    require([ 'echarts','echarts/chart/map',<br>
                        'echarts/chart/bar',<br>
                        'echarts/chart/pie',<br>
                        'echarts/chart/line']);<br>
    $(ID).BDChats.defaults = {<br>
            iWidth:option.width,<br>
            iHeight:option.height,<br>
            noAjax:true, //使用后台请求数据<br>
            loading : true, //加载层<br>
            hParams :{} //提交的参数<br>
    
    };<br>
    //类型<br>
    switch(option.isWhat){<br>
        case 'china'://国内地图<br>
            var geoCoord = new Array();<br>
            var seriesData = new Array();<br>
            var color = new Array();<br>
            var serData = new Array();<br>
            
            $.ajaxSettings.async = false;<br>
            $.getJSON(jsonA, function (jsonArray) {<br>
                for(var key in jsonArray.geoCoord){<br>
                    geoCoord[0] = {<br>
                                name: '全国',<br>
                                type: 'map',<br>
                                mapType: 'china',<br>
                                itemStyle:{<br>
                                    normal:{<br>
                                        borderColor:'rgba(138,207,242,1)',<br>
                                        borderWidth:0.5,<br>
                                        areaStyle:{<br>
                                            color: 'rgba(76,157,220,1)'<br>
                                        }<br>
                                    }<br>
                                },<br>
                                data:[],<br>
                                geoCoord:jsonArray.geoCoord[0]<br>
                    };<br>
                };<br>
                //console.log(jsonArray.geoCoord[0]);<br>
                for(var n in jsonArray.seriesData){<br>
                    color[n] = jsonArray.seriesData[n].color<br>
                    seriesData[n] = {<br>
                            name: jsonArray.seriesData[n].name,<br>
                            type: 'map',<br>
                            mapType: 'china',<br>
                            data:[],<br>
                            markLine : {<br>
                                smooth:true,<br>
                                effect : {<br>
                                    show: true,<br>
                                    scaleSize: 1,<br>
                                    period: 30,<br>
                                    color: '#fff',<br>
                                    shadowBlur: 10<br>
                                },<br>
                                itemStyle : {<br>
                                    normal: {<br>
                                        borderWidth:1,<br>
                                        lineStyle: {<br>
                                            type: 'solid',<br>
                                            shadowBlur: 10<br>
                                        }<br>
                                    }<br>
                                },<br>
                                data :jsonArray.seriesData[n].value<br>
                        }<br>
                };  <br>
                }<br>
            });<br>
            
            serData = geoCoord.concat(seriesData);<br>
            chinamap(ID,serData,color); //map调用option函数<br>
            break;<br>
    }<br>
}<br>
//国内地图<br>
function chinamap(ID,serData,color){<br>
         $(ID).BDChats({<br>
            noAjax:true,<br>
            openUrl:false,<br>
            color: color,<br>
            tooltip : {<br>
                trigger: 'item',<br>
                formatter: '{b}'<br>
            },<br>
            series:serData<br>
            }) .on('afterrender', function (e, charts, el,option) {<br>
                    $('body').delegate('.reload','click',function(e){<br>
                    });<br>
                });     <br>
};<br>

</p>
</blockquote>
</div>
        
        
<!--使用说明-->
<div id="date">
<blockquote class="vlight">
<p>
/* 数据等待添加 */

</p>
</blockquote>
</div>

        
        
</div>

</div>

</body>
</html>
