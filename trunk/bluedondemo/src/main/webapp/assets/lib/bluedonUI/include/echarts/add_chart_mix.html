<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>title</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<!--可以在收藏夹中显示出图标-->
<link rel="Bookmark" href="../../skin/style/images/favicon.ico" type="image/x-icon"/>
<!--可以在地址栏中显示出图标-->
<link rel="shortcut icon" href="../../skin/style/images/favicon.ico" type="image/x-icon"/>
<link rel="icon" href="../../skin/style/images/favicon.ico" type="image/x-icon"/>
<!--公共-->
<link href="../../skin/style/style.css" rel="stylesheet" type="text/css" />
<script src="../../js/lib/jquery.min.js" type="text/javascript"></script>
<script src="../../js/lib/tab/tab.js" type="text/javascript"></script>
<!--代码变色-->
<script src="../../js/lib/vejis.js" type="text/javascript"></script>
<script src="../../js/lib/vlight.js" type="text/javascript"></script>
<style type="text/css">
body{_overflow:hidden}
</style>
</head>

<body>

<div style="padding:0px 20px;">
  <div class="list-data">
        <div class="list-tab mar_top">
            <ul>
            <li class="listcurrent"><a href="#html">HTML代码</a></li>
            <li><a href="#css">CSS代码</a></li>
            <li><a href="#java">JAVASCRIPT代码(含数据交互)</a></li>
            <li><a href="#date">使用说明</a></li>
        </ul>
        </div>
    </div>
     
     <div class="clearfix"></div> 
     <div class=" list-content">
		
<!--HTML代码-->
<div id="html">
<blockquote class="vlight">
<p>


<!--内容显示--><br>
&lt;div id="chart_mix" style="height:240px; width:90%; overflow:hidden; margin:10px auto 0px auto;"&gt;&lt;/div&gt;<br><br>

<!--js文件--><br>
&lt;script src="../../js/lib/echarts/echarts-all.js"&gt;&lt;/script&gt;<br>
&lt;script src="../../js/lib/echarts/echarts.js"&gt;&lt;/script&gt;<br>
&lt;script src="../../js/bd/charts.js"&gt;&lt;/script&gt;<br>
&lt;script src="../../js/lib/echarts/echarts_maplist.js"&gt;&lt;/script&gt;<br>
&lt;script type="text/javascript"&gt;<br>
 $(document).ready(function(e) {<br>
    $("#chart_mix").chartsMap({<br>
            jsonUrl:'../../js/data/mix1.json',  //<br>报表的JSON文件路径<br>
            tabID:'#chart_mix',              //调用报表的ID<br>
            width:800,                      //报表显示宽度<br>
            height:240,                      //报表显示高度<br>
            isWhat:'mix',                    //报表所用的格式<br>
            echartsAdd:'../../js/lib/echarts'  //echarts文件路径<br>
        });<br>
}); <br>
&lt;/script&gt;<br>
</p>    
</blockquote>
</div>
        
<!--CSS代码-->
<div id="css">
<blockquote class="vlight">
<p>
/* 暂无涉及的相关文件 */
</p>
</blockquote>
</div>
        
<!--JAVASCRIPT代码-->
<div id="java">
<blockquote class="vlight">
<p>
// JSON 数据格式<br>
{<br>
    "xAxis":["周一","周二","周三","周四","周五","周六","周日"],
    "firstList":[{"name":"直接访问","dataNumber":[320, 332, 301, 334, 390, 330, 320]}],<br>
    "seriesList":[<br>
            {"name":"邮件营销","dataNumber":[120, 132, 101, 134, 90, 230, 210]},<br>
            {"name":"联盟广告","dataNumber":[220, 182, 191, 234, 290, 330, 310]},<br>
            {"name":"视频广告","dataNumber":[220, 182, 191, 234, 290, 330, 310]}<br>
            
    ],<br>
    "LineList":[{"name":"搜索引擎","dataNumber":[862, 1018, 964, 1026, 1679, 1600, 1570]}],<br>
    "pieList":[<br>
                {"value":1048, "title":"百度"},<br>
                {"value":251, "title":"谷歌"},<br>
                {"value":147, "title":"必应"},<br>
                {"value":102, "title":"其他"}<br>
             ],<br>
    "xTitle":"搜索引擎细分"<br>
}<br>
//公共代码<br>
$.fn.chartsMap = function(option){<br>
    var setting = {<br>
        jsonUrl:null,         //报表的JSON文件路径<br>
        tabID:null,           //调用报表的ID<br>
        width:'98%',          //报表显示宽度<br>
        height:240,           //报表显示高度<br>
        isWhat :null,         //报表所用的格式<br>
        echartsAdd:null       //echarts文件路径<br>
    };<br>
    option = $.extend(setting, option);    //合并参数<br>
    var jsonA = option.jsonUrl;<br>
    var ID = option.tabID;<br>
    require.config({<br>
        paths : {  <br>
            echarts : option.echartsAdd<br>
        }  <br>
    }); <br>
    require([ 'echarts','echarts/chart/map',<br>
                        'echarts/chart/bar',<br>
                        'echarts/chart/pie',<br>
                        'echarts/chart/line']);<br>
    $(ID).BDChats.defaults = {<br>
            iWidth:option.width,<br>
            iHeight:option.height,<br>
            noAjax:true, //使用后台请求数据<br>
            loading : true, //加载层<br>
            hParams :{} //提交的参数<br>
    
    };<br>
    //类型<br>
    switch(option.isWhat){<br>
        case 'mix': //混合图表<br>
            var xAxisData = new Array();<br>
            var t_id = new Array();<br>
            var lenged0 = new Array();<br>
            var lenged1 = new Array();<br>
            var lenged2 = new Array();<br>
            var lenged3 = new Array();<br>
            var dataPie = new Array();<br>
            var seriesData0 =new Array();<br>
            var seriesData1 =new Array();<br>
            var seriesData2 =new Array();<br>
            var seriesData2_1 =new Array();<br>
            var seriesData3 =new Array();<br>
            var pieVal = new Array();<br>
            var tit;<br>
            $.ajaxSettings.async = false;<br>
            $.getJSON(jsonA, function (jsonArray) { <br>
                for(var x in jsonArray.xAxis){<br>
                    xAxisData[x] = jsonArray.xAxis[x];<br>
                };<br>
                lenged0[0] = jsonArray.firstList[0].name;<br>
                seriesData0[0] = {name:jsonArray.firstList[0]<br>.name<br>,type:'bar',data:jsonArray.firstList[0].dataNumber};<br>
                for(var key in jsonArray.seriesList){<br>
                    lenged1[key] = jsonArray.seriesList[key].name;<br>
                    seriesData1[key] = {data:jsonArray.seriesList[<br>key].dataNumber, stack: '广告',tooltip : <br>{trigger: 'item'},type:'bar',<br>name:jsonArray.seriesList[key].name};<br>
                };<br>
                lenged3[0] = jsonArray.LineList[0].name;<br>
                seriesData3[0] = {data:jsonArray.LineList[0].<br>dataNumber,type:'line',name:jsonArray.LineList[0].name};<br>
                for(var m in jsonArray.pieList){<br>
                    lenged2[m] = jsonArray.pieList[m].title;<br>
                    seriesData2_1 = jsonArray.pieList;<br>
                    pieVal[m] = jsonArray.pieList[m].value;<br>
                };  <br>
            }); <br>
            <br>
                seriesData2 = {data:[{value:1048, name:'百度'},<br>
                    {value:251, name:'谷歌'},<br>
                    {value:147, name:'必应'},<br>
                    {value:102, name:'其他'}],<br>
                        type:'pie',<br>
                        tooltip : {<br>
                            trigger: 'item',<br>
                            formatter: '{a} <br/>{b} : {c} ({d}%)'<br>
                        },<br>
                        center: [198,80],<br>
                        radius : [0, 30],<br>
                        itemStyle :　{<br>
                            normal : {<br>
                                 labelLine : {<br>
                                    length : 10<br>
                                }<br>
                            }<br>
                        },name:tit};<br>
            
            lenged0 = lenged0.concat(lenged1,lenged3,lenged2);<br>
            seriesData0 = seriesData0.concat(seriesData1,<br>seriesData3,seriesData2);<br>
            
            mixShow(ID,xAxisData,lenged0,seriesData0);<br>        
                break;<br>
        }<br>
         
}<br>


//混合图表<br>
function mixShow(ID,xAxisData,lenged0,seriesData0){<br>
        $(ID).BDChats({<br>
            noAjax:true,<br>
            openUrl:false,<br>
            tooltip : {<br>
                    trigger: 'axis'<br>
            },<br>
            calculable : false,<br>
            legend: {<br>
                data:lenged0<br>
            },<br>
            xAxis : [<br>
                {<br>
                    type : 'category',<br>
                    splitLine : {show : false},<br>
                    data : xAxisData<br>
                }<br>
            ],<br>
            yAxis : [<br>
                {<br>
                    type : 'value',<br>
                    position: 'left'<br>
                }<br>
            ],<br>
            series : seriesData0<br>
            }).on('afterrender', function (e, charts, el,option) {<br>
                $('body').delegate('.reload','click',function(e){<br>
                });<br>
            }); <br>        
}<br>
</p>
</blockquote>
</div>
        
        
<!--使用说明-->
<div id="date">
<blockquote class="vlight">
<p>
/* 数据等待添加 */

</p>
</blockquote>
</div>

        
        
            </div>

</div>

</body>
</html>
