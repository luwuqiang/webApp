<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>title</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<!--公共-->
<link href="../../skin/style/style.css" rel="stylesheet" type="text/css" />
<script src="../../js/lib/jquery.min.js" type="text/javascript"></script>

<!--ztree-->
<link rel="stylesheet" href="../../js/lib/ztree/style/zTreeStyle.css" type="text/css">
<script type="text/javascript" src="../../js/lib/ztree/js/jquery.ztree.core.js"></script>
<script type="text/javascript" src="../../js/lib/ztree/js/jquery.ztree.excheck.js"></script>


<SCRIPT type="text/javascript">
	<!--
	var setting = {
		view: {
			selectedMulti: false
		},
		check: {
			enable: true
		},
		data: {
			simpleData: {
				enable: true
			}
		},
		callback: {
			beforeCheck: beforeCheck,
			onCheck: onCheck
		}
	};

	var zNodes =[
			{ id:1, pId:0, name:"全部资产", open:true},
			{ id:2, pId:1, name:"按设备类型划分", open:true},
			{ id:3, pId:2, name:"办公设备", open:true},
			{ id:4, pId:3, name:"PC"},
			{ id:5, pId:3, name:"扫描器"},
			{ id:6, pId:3, name:"打印机"},
			{ id:7, pId:2, name:"网络设备", open:true},
			{ id:8, pId:7, name:"交换机"},
			{ id:9, pId:7, name:"路由器"},
			{ id:10, pId:7, name:"打印机"},
			{ id:11, pId:2, name:"安全设备", open:true},
			{ id:12, pId:11, name:"防火墙"},
			{ id:13, pId:11, name:"防病毒"},
			{ id:14, pId:11, name:"漏洞扫描"},
			{ id:15, pId:11, name:"堡垒机"},
			{ id:16, pId:11, name:"上网行为审计"},
			{ id:17, pId:11, name:"IDS"},
			{ id:18, pId:11, name:"IPS"},
			{ id:19, pId:11, name:"SOC"},
			{ id:20, pId:11, name:"UTM"},
			{ id:21, pId:11, name:"VPN"},
			{ id:22, pId:11, name:"WAF"},
			{ id:23, pId:2, name:"业务系统", open:true},
			{ id:24, pId:23, name:"服务器"},
			{ id:25, pId:23, name:"数据库"},
			{ id:26, pId:23, name:"中间件"},
			{ id:27, pId:1, name:"按部划分", open:true},
			{ id:121, pId:27, name:"网络攻防兴趣班"},
			{ id:122, pId:27, name:"网络攻防兴趣班"},
			{ id:13, pId:1, name:"按区域划分", open:true},
			{ id:121, pId:13, name:"网络攻防兴趣班"},
			{ id:122, pId:13, name:"网络攻防兴趣班"},
			{ id:14, pId:1, name:"按厂商划分", open:true},
			{ id:121, pId:14, name:"网络攻防兴趣班"},
			{ id:122, pId:14, name:"网络攻防兴趣班"},
	];
	
	var code, log, className = "dark";
	function beforeCheck(treeId, treeNode) {
		className = (className === "dark" ? "":"dark");
		showLog("[ "+getTime()+" beforeCheck ]&nbsp;&nbsp;&nbsp;&nbsp;" + treeNode.name );
		return (treeNode.doCheck !== false);
	}
	function onCheck(e, treeId, treeNode) {
		showLog("[ "+getTime()+" onCheck ]&nbsp;&nbsp;&nbsp;&nbsp;" + treeNode.name );
	}		
	function showLog(str) {
		if (!log) log = $("#log");
		log.append("<li class='"+className+"'>"+str+"</li>");
		if(log.children("li").length > 6) {
			log.get(0).removeChild(log.children("li")[0]);
		}
	}
	function getTime() {
		var now= new Date(),
		h=now.getHours(),
		m=now.getMinutes(),
		s=now.getSeconds(),
		ms=now.getMilliseconds();
		return (h+":"+m+":"+s+ " " +ms);
	}

	function checkNode(e) {
		var zTree = $.fn.zTree.getZTreeObj("treeDemo"),
		type = e.data.type,
		nodes = zTree.getSelectedNodes();
		if (type.indexOf("All")<0 && nodes.length == 0) {
			alert("请先选择一个节点");
		}

		if (type == "checkAllTrue") {
			zTree.checkAllNodes(true);
		} else if (type == "checkAllFalse") {
			zTree.checkAllNodes(false);
		} else {
			var callbackFlag = $("#callbackTrigger").attr("checked");
			for (var i=0, l=nodes.length; i<l; i++) {
				if (type == "checkTrue") {
					zTree.checkNode(nodes[i], true, false, callbackFlag);
				} else if (type == "checkFalse") {
					zTree.checkNode(nodes[i], false, false, callbackFlag);
				} else if (type == "toggle") {
					zTree.checkNode(nodes[i], null, false, callbackFlag);
				}else if (type == "checkTruePS") {
					zTree.checkNode(nodes[i], true, true, callbackFlag);
				} else if (type == "checkFalsePS") {
					zTree.checkNode(nodes[i], false, true, callbackFlag);
				} else if (type == "togglePS") {
					zTree.checkNode(nodes[i], null, true, callbackFlag);
				}
			}
		}
	}

	function setAutoTrigger(e) {
		var zTree = $.fn.zTree.getZTreeObj("treeDemo");
		zTree.setting.check.autoCheckTrigger = $("#autoCallbackTrigger").attr("checked");
		$("#autoCheckTriggerValue").html(zTree.setting.check.autoCheckTrigger ? "true" : "false");
	}

	$(document).ready(function(){
		$.fn.zTree.init($("#treeDemo"), setting, zNodes);
		$("#autoCallbackTrigger").bind("change", {}, setAutoTrigger);
	});
	//-->
	
	
   
$(document).ready(function() {	
	 //新增任务菜单切换
  $(".list-tab ul li").click(function(){
   	$(".list-tab ul li").removeClass();
	$(this).addClass("listcurrent");
   })
})
</SCRIPT>

<!--代码变色-->
<script src="../../js/lib/vejis.js" type="text/javascript"></script>
<script src="../../js/lib/vlight.js" type="text/javascript"></script>
<style type="text/css">
.ztree li ul.line{border-top: 0px solid #CCC;}
</style>
</head>

<body>

<div class="list_page">
	<!---班级ztree--->
	<div class="c_l" style="height:220px;">
    	<ul id="treeDemo" class="ztree"></ul>
    </div>
    <!---学生列表--->

</div>


</body>
</html>
